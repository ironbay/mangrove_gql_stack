query Todos {
  session {
    currentUser {
      todos {
        id
        title
      }
    }
  }
}

mutation RemoveTodo($id: String!) {
  removeTodo(id: $id) {
    id
    title
  }
}

mutation CreateTodo($id: String!, $title: String!) {
  createTodo(input: { id: $id, title: $title }) {
    id
    title
  }
}

mutation Upload($name: String!, $type: String!) {
  upload(name: $name, type: $type)
}

query Pipes {
  session {
    currentUser {
      pipes {
        flags {
          enabled
        }
        sources {
          account {
            name
            category
            subcategory
          }
          filters {
            name
            op
            ... on NumberFilter {
              num
            }
            ... on TextFilter {
              text
            }
          }
        }
        destinations {
          name
          topic
        }
      }
    }
  }
}

query Connections {
  session {
    currentUser {
      connections {
        id
        ... on PlaidConnection {
          institution
          accounts {
            id
            name
            category
            subcategory
          }
        }
        ... on SlackConnection {
          id
          name
          channels {
            id
            name
            topic
            num_members
          }
        }
      }
    }
  }
}
